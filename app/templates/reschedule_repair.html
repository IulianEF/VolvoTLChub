{% extends "base.html" %}

{% block content %}
<h2>Reschedule Repair #{{ repair.id }}</h2>

<!-- Show current repair details -->
<div class="mb-3">
  <strong>Description:</strong> {{ repair.description }}<br/>
  <strong>Current Scheduled Date:</strong> {{ repair.scheduled_date.strftime("%Y-%m-%d") }}<br/>
  <strong>Status:</strong> {{ repair.status }}
</div>

<!-- Reschedule form (POST) -->
<form method="POST">
  <div class="mb-3">
    <label>New Date (YYYY-MM-DD):</label>
    <input type="date" name="new_date" class="form-control"/>
  </div>
  <div class="mb-3">
    <label>Select Elevator:</label>
    <select name="elevator_id" class="form-select">
      {% for e in elevators %}
      <option value="{{ e.id }}">{{ e.type }} ({{ e.status }})</option>
      {% endfor %}
    </select>
  </div>
  <button class="btn btn-primary" type="submit">Confirm Reschedule</button>
</form>
{% endblock %}
